{{!-- Thread progress analysis result template --}}
{{#bold "═══════════════════════════════════════════════════════════════════════════════" color=colorEnabled}}{{/bold}}
{{#bold "                          THREAD PROGRESS ANALYSIS" color=colorEnabled}}{{/bold}}
{{#bold "═══════════════════════════════════════════════════════════════════════════════" color=colorEnabled}}{{/bold}}

Severity: {{#severityColor severity color=colorEnabled}}{{severity}}{{/severityColor}}
{{#if isMultiDump}}
Dumps Analyzed: {{dumpCount}}
{{/if}}

{{!-- Summary --}}
{{#bold "Summary:" color=colorEnabled}}{{/bold}}
  Total Threads: {{total}}
  Active:        {{#success active color=colorEnabled}}{{/success}}
  Waiting:       {{waiting}}
  Blocked:       {{#ifGt blocked 0}}{{#warning blocked color=colorEnabled}}{{/warning}}{{else}}{{blocked}}{{/ifGt}}
  No Progress:   {{#ifGt noProgress 0}}{{#warning noProgress color=colorEnabled}}{{/warning}}{{else}}{{noProgress}}{{/ifGt}}
  Stuck:         {{#ifGt stuck 0}}{{#error stuck color=colorEnabled}}{{/error}}{{else}}{{stuck}}{{/ifGt}}

  Problem Rate: {{#ifGte problemPercentage 50}}{{#error problemPercentage color=colorEnabled}}{{/error}}%{{else}}{{#ifGte problemPercentage 25}}{{#warning problemPercentage color=colorEnabled}}{{/warning}}%{{else}}{{problemPercentage}}%{{/ifGte}}{{/ifGte}}

{{#if indicatesStall}}

{{#error "⚠ WARNING: High percentage of problem threads - possible stall!" color=colorEnabled}}{{/error}}
{{/if}}

{{!-- Classification breakdown --}}
{{#bold "───────────────────────────────────────────────────────────────────────────────" color=colorEnabled}}{{/bold}}
{{#bold "Classifications:" color=colorEnabled}}{{/bold}}
{{#bold "───────────────────────────────────────────────────────────────────────────────" color=colorEnabled}}{{/bold}}

{{#each classifications}}
{{#progressColor classification color=../colorEnabled}}{{name}}{{/progressColor}}: {{count}} thread(s){{#if isProblem}} {{#error "⚠" color=../colorEnabled}}{{/error}}{{/if}}

{{#if threads}}
{{#each threads}}
  • {{threadName}}{{#if state}} ({{#threadStateColor state color=../../colorEnabled}}{{/threadStateColor}}){{/if}}{{#if isMultiDump}} {{#dim stateHistoryString color=../../colorEnabled}}{{/dim}}{{/if}}
{{#if stackTrace}}
{{#each stackTrace}}
      {{this}}
{{/each}}
{{/if}}
{{/each}}
{{#if hasMore}}
  ... and {{moreCount}} more
{{/if}}
{{/if}}
{{/each}}

{{!-- Findings --}}
{{#if hasFindings}}
{{#bold "───────────────────────────────────────────────────────────────────────────────" color=colorEnabled}}{{/bold}}
{{#bold "Findings:" color=colorEnabled}}{{/bold}}
{{#bold "───────────────────────────────────────────────────────────────────────────────" color=colorEnabled}}{{/bold}}

{{#each findings}}
{{#severityColor severity color=../colorEnabled}}[{{severity}}]{{/severityColor}} {{message}}
{{/each}}
{{/if}}

{{#bold "═══════════════════════════════════════════════════════════════════════════════" color=colorEnabled}}{{/bold}}